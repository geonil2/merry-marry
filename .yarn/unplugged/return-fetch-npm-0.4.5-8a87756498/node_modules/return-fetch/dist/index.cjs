function e(){return e=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},e.apply(this,arguments)}var r=function(){try{var e,r,n,t=function(){return[r,n]};e=[].slice.call(arguments);var o=function(){if(e[0]instanceof Request)return r=e[0].url,Promise.resolve(function(e,r){var n=new Request(e,r);return new Response(n.body).arrayBuffer().then(function(e){return{method:n.method,headers:n.headers,body:e,referrer:n.referrer,referrerPolicy:n.referrerPolicy,mode:n.mode,credentials:n.credentials,cache:n.cache,redirect:n.redirect,integrity:n.integrity,keepalive:n.keepalive,signal:n.signal,window:null==r?void 0:r.window}})}(e[0],e[1])).then(function(e){n=e});r=e[0],n=e[1]}();return Promise.resolve(o&&o.then?o.then(t):t())}catch(e){return Promise.reject(e)}};module.exports=function(n){return function(){try{return Promise.resolve(r.apply(void 0,[].slice.call(arguments))).then(function(r){function t(){return Promise.resolve(l.apply(void 0,o)).then(function(e){var r;return(null==n||null==(r=n.interceptors)||null==r.response?void 0:r.response(e,o,l))||e})}var o,i=function(r,n){var t=r[0],o=r[1],i=new Headers(null==n?void 0:n.headers);new Headers(null==o?void 0:o.headers).forEach(function(e,r){i.set(r,e)});var l=t;return null!=n&&n.baseUrl&&(l=new URL(t,n.baseUrl)),[l,e({},o,{headers:i})]}(r,n),l=(null==n?void 0:n.fetch)||fetch,u=function(e){var r;if(null!=n&&null!=(e=n.interceptors)&&e.request)return Promise.resolve(null==n||null==(r=n.interceptors)||null==r.request?void 0:r.request(i,l)).then(function(e){o=e});o=i}();return u&&u.then?u.then(t):t()})}catch(e){return Promise.reject(e)}}};
//# sourceMappingURL=index.cjs.map
